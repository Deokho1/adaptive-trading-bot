app:
  timezone: "Asia/Seoul"
  dry_run: true

exchange:
  name: "upbit"
  base_url: "https://api.upbit.com"
  public_rate_limit:
    max_calls_per_sec: 5
  private_rate_limit:
    max_calls_per_sec: 2

persistence:
  positions_file: "state/positions.json"
  app_state_file: "state/app_state.json"
  logs_dir: "logs"
  log_level: "INFO"

market_analyzer:
  # Indicator periods
  adx_period: 14
  atr_period: 14
  bb_period: 20
  bb_stddev: 2.0
  
  # TREND mode thresholds
  adx_trend_enter: 25.0      # ADX above this to enter TREND
  adx_trend_exit: 20.0       # ADX above this to stay in TREND
  atr_trend_min: 2.0         # Minimum ATR ratio for TREND
  
  # RANGE mode thresholds  
  adx_range_enter: 20.0      # ADX below this to enter RANGE
  adx_range_exit: 25.0       # ADX below this to stay in RANGE
  bw_range_enter: 5.0        # BandWidth below this to enter RANGE
  bw_range_exit: 8.0         # BandWidth below this to stay in RANGE
  atr_range_max: 3.0         # Maximum ATR ratio for RANGE
  
  # Mode persistence
  cooldown_hours: 4          # Hours to wait before mode change

risk:
  # Capital allocation limits (percentage of portfolio)
  max_trend_cap_pct: 30.0    # Maximum capital for TREND positions
  max_range_cap_pct: 20.0    # Maximum capital for RANGE positions
  
  # Daily loss protection
  daily_loss_limit_pct: 5.0  # Daily loss limit (kill switch trigger)
  
  # Position limits
  max_positions_total: 3     # Maximum number of open positions

strategies:
  trend:
    enabled: true
    k_atr: 0.5               # ATR multiplier for breakout level
    min_volume_factor: 1.2   # Minimum volume vs average
    per_trade_pct: 0.05      # Portfolio percentage per trade (5%)
    max_positions: 3         # Max concurrent trend positions
    rsi_period: 14           # RSI calculation period
    stop_loss_pct: 0.03      # Fixed stop loss (3%)
    trail_stop_pct: 0.05     # Trailing stop (5%)
    rsi_exit: 70.0           # RSI exit level (overbought)
    max_hold_hours: 24       # Maximum hold time

  range:
    enabled: true
    per_trade_pct: 0.03      # Portfolio percentage per trade (3%)
    rsi_period: 14           # RSI calculation period
    rsi_entry: 30.0          # RSI entry level (oversold)
    rsi_exit: 50.0           # RSI exit level (neutral)
    take_profit_pct: 0.04    # Take profit level (4%)
    fixed_stop_pct: 0.02     # Fixed stop loss (2%)
    atr_stop_n: 1.0          # ATR multiplier for dynamic stop

  symbols:
    - "KRW-BTC"              # Primary trading symbol
    - "KRW-ETH"              # Secondary symbol (if enabled)